{% extends "include/base.html" %}

<!-- navbar component --> 
{% include "include/components/navbar.html" %}

<!-- main page component --> 

{% block content %}

<body id="ArtifactPage">

  <div class="container" style="padding-top:65px;"></div>
  <div id="page-content"></div>
  <div hidden data-registry="" id="registry-type"></div>

  <!-- repository page --> 
  <div id="repository-page" style="display: none;">
        <!-- subnav --> 
        {% include "include/components/subnav.html" %}
      <br>
        {% include "include/components/repository_select.html" %}
      <br>
  </div>

  <!-- Model, Data, Run Pages -->
  <div id="version-page" style="display: none;">
    {% include "include/components/versions.html" %}
  </div>


</body>

{% endblock %}




{% block scripts %}

<script src="/static/chart/highcharts.js"></script>
<script src="/static/chart/modules/data.js"></script>
<script src="/static/chart/modules/series-label.js"></script>
<script src="/static/chart/modules/exporting.js"></script>
<script src="/static/chart/modules/export-data.js"></script>
<script src="/static/chart/modules/accessibility.js"></script>
<script type="module">
  import { 
    generate_html_from_data, 
    ready_project_page, 
    call_graphics, 
    call_metadata, 
    ready_project_toggles, 
    ready_project_buttons, 
    get_metrics,
    get_repo_names_page,
    set_repository_select,
    set_nav_click,
    set_default_page

  } from '/static/js/utils.js';
  import {ready_nav} from '/static/js/nav.js';


  $(document).ready( function() {
    let registry = "{{ registry }}";
    let name   = "{{ name }}";
    let repository = "{{ repository }}";
    let version = "{{ version }}";

    // set the default page
    set_default_page(registry, name, repository, version);

    }

  );

  // ready the main nav
  ready_nav();

  // handle repository select dynamics
  set_repository_select();


  // handle nav link click
  set_nav_click();



</script>

{% endblock %}