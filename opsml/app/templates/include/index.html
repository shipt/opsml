{% extends "base.html" %}

<!-- navbar component --> 
{% include "include/components/navbar.html" %}
<!-- main page component --> 

{% block content %}


<body id="ArtifactPage">

  <div id="registry" value="{{ registry }}" style="display: none;"></div>
  <div id="name" value="{{ name }}" style="display: none;"></div>
  <div id="repository" value="{{ repository }}" style="display: none;"></div>
  <div id="version" value="{{ version }}" style="display: none;"></div>

  <div>
    <a id="attribution-button" class="btn btn-success active" href="/opsml/ui/attribution" >Attributions</a>
  </div>

  {% if registry == 'run' %}

    <div id="run-version-page">
      {% include "include/components/model/project.html" %}
    </div>
 
  {% else %}

    <div class="container" style="padding-top:65px;"></div>
    {% include "include/components/subnav.html" %}
    <br>

    <!-- repository page --> 
    <div id="repository-page" style="display: none;">
      {% include "include/components/repository_select.html" %}
    </div>
    
    <br>

    <!-- Model, Data, Run Pages -->
    <div id="card-version-page" style="display: none;">
      {% include "include/components/model/version.html" %}
    </div>

    <!-- Model, Data, Run Pages -->
    <div id="audit-version-page" style="display: none;">
    </div>

  {% endif %}
 
</body>

{% endblock %}


{% block scripts %}

<script src="/static/chart/highcharts.js"></script>
<script src="/static/chart/modules/data.js"></script>
<script src="/static/chart/modules/series-label.js"></script>
<script src="/static/chart/modules/exporting.js"></script>
<script src="/static/chart/modules/export-data.js"></script>
<script src="/static/chart/modules/accessibility.js"></script>
<script type="module">
  import { setNavLink, setPage } from '/static/scripts/js/utils.js';
  

  $( document ).ready(function() {

    let registry =  document.getElementById("registry").getAttribute ("value")
    let name =  document.getElementById("name").getAttribute ("value")
    let repository =  document.getElementById("repository").getAttribute ("value")
    let version =  document.getElementById("version").getAttribute ("value")

    setNavLink(registry);
    setPage(registry, repository, name, version);

  });

  

  



</script>

{% endblock %}